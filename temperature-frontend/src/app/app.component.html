<div class="container-fluid h-100" style="padding: 0;">
  <div class="container-fluid h-100 no-padding">
    <!-- nav bar -->
    <nav class="navbar navbar-dark bg-dark">
      <a class="navbar-brand" style="color: #FFF">Temperature & Humidity Measurement Tool</a>
    </nav>
    <!-- settings bar -->
    <nav class="navbar navbar-light" style="background: gray; padding-bottom: 0">
      <form class="form-inline">
        <mat-slide-toggle
          class=""
          [(ngModel)]="graphOnly"
          [color]="color"
          [disabled]="disabled"
          name="graphOnlyForm">
          Show graph only
        </mat-slide-toggle>
        <mat-form-field class="" style="padding: 0 10px 0 10px">
          <input matInput [(ngModel)]="dateStart" [matDatepicker]="pickerStart" placeholder="Choose a start date (incl.)"
                 name="dateStartForm"
                 (dateChange)="onDateChange('change', $event)">
          <mat-datepicker-toggle matSuffix [for]="pickerStart">
            <mat-icon matDatepickerToggleIcon>keyboard_arrow_down</mat-icon>
          </mat-datepicker-toggle>
          <mat-datepicker #pickerStart></mat-datepicker>
        </mat-form-field>
        <mat-form-field class="">
          <input matInput [(ngModel)]="dateEnd" [matDatepicker]="pickerEnd" placeholder="Choose an end date (incl.)"
                 name="dateEndForm"
                 (dateChange)="onDateChange('change', $event)">
          <mat-datepicker-toggle matSuffix [for]="pickerEnd">
            <mat-icon matDatepickerToggleIcon>keyboard_arrow_down</mat-icon>
          </mat-datepicker-toggle>
          <mat-datepicker #pickerEnd></mat-datepicker>
        </mat-form-field>
      </form>
    </nav>
    <!-- core -->
    <div class="col-md h-75" style="">
      <div class="row h-100 align-items-center justify-content-center">
        <!-- spinner while fetching data -->
        <div class="col-md-1" *ngIf="dataComplete.length == 0">
          <mat-progress-spinner
            class=""
            [color]="spinnerColor"
            [mode]="spinnerMode">
          </mat-progress-spinner>
          Loading...
        </div>
        <!-- spinner when do selected data -->
        <div class="col-md-8" *ngIf="dataInScope.length == 0 && dataComplete.length > 0">
          <div class="alert alert-danger" role="alert">
            No data found for the given filter. Please change your filter.
          </div>
        </div>
        <!-- table view -->
        <div class="col-md-6 h-100" *ngIf="dataInScope.length > 0 && !graphOnly" style="overflow-y: scroll; top: 20px">
          <table class="table table-dark table-hover">
            <thead>
            <tr>
              <th scope="col">Date & Time</th>
              <th scope="col">Temperature</th>
              <th scope="col">Humidity</th>
            </tr>
            </thead>
            <tbody>
            <tr *ngFor="let dataSet of this.dataInScope; let i = index">
              <td>{{dataSet.date | date:'MM/dd/yyyy hh:mm:ss'}}</td>
              <td>{{dataSet.temperature}} Â°C</td>
              <td>{{dataSet.humidity}} %</td>
            </tr>
            </tbody>
          </table>
        </div>
        <!-- graph view -->
        <div class="full-height" [ngClass]="{'col-md-6': !graphOnly, 'col-md': graphOnly}" *ngIf="dataInScope.length > 0">
          <app-graph *ngIf="dataInScope.length != 0" [data]="dataInScope"></app-graph>
        </div>
      </div>
    </div>

    <!-- footer -->
    <nav class="navbar fixed-bottom navbar-light bg-dark">

    </nav>
  </div>

  <router-outlet></router-outlet>
</div>
